// Generated by CoffeeScript 1.6.3
var App, doc;

App = Ember.Application.create({
  LOG_TRANSITIONS: true,
  LOG_ACTIVE_GENERATION: true
});

Ember.LOG_BINDINGS = true;

Ember.LOG_VIEW_LOOKUPS = true;

Ember.ENV.RAISE_ON_DEPRECATION = true;

App.Router.map(function() {
  return this.resource('editor', {
    path: '/'
  });
});

App.DocumentController = Ember.Controller.extend({
  startDrawing: function() {
    this.set("drawing", true);
    return console.log("start drawing");
  },
  stopDrawing: function() {
    this.set("drawing", false);
    return console.log("stop drawing");
  },
  mouseMove: function(x, y) {
    if (this.get('drawing')) {
      return console.log("drawing");
    }
  }
});

App.DocumentView = Ember.View.extend({
  templateName: 'document-view',
  didInsertElement: function() {
    var $canvas, context, self;
    self = this;
    $canvas = self.$().find('canvas');
    context = $canvas[0].getContext('2d');
    context.fillRect(10, 10, 10, 10);
    self.$().mousedown(function(e) {
      return self.get('document').send('startDrawing');
    });
    self.$().mouseup(function(e) {
      return self.get('document').send('stopDrawing');
    });
    self.$().mousemove(function(e) {
      var x, y;
      x = e.pageX - $canvas.position().left;
      y = e.pageY - $canvas.position().top;
      return self.get('document').send('mouseMove', x, y);
    });
  }
});

doc = App.DocumentController.create();

App.EditorRoute = Ember.Route.extend({
  model: function() {
    return {
      document: doc
    };
  }
});
